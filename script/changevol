#!/bin/sh

send_notification() {
    volume=$(pamixer --get-volume)
    dunstify -a "changevolume" -u low -r "9993" -h int:value:"$volume" -i "volume-$1" "Volume: ${volume}%" -t 2000 &
}

case $1 in
    up)
        pamixer -u -i 5
        send_notification "$1"
        ;;
    down)
        pamixer -u -d 5
        send_notification "$1"
        ;;
    mute)
        if "$(pamixer -t --get-mute)"; then
            dunstify -i volume-mute -a "changevolume" -t 2000 -r 9993 -u low "Muted" &
        else
            send_notification up
        fi
        ;;
    mic)
        if "$(pamixer --default-source -t --get-mute)";
        then
            dunstify -i volume-mic-mute -a "changevolume" -t 2000 -r 9993 -u low "Muted" &
        else
            dunstify -i volume-mic -a "changevolume" -t 2000 -r 9993 -u low "Activated" &
        fi
        ;;
esac
